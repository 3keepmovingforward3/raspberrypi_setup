# raspberrypi_setup
1. Download newest image at
https://downloads.ubiquityrobotics.com/pi.html


2. vnc app on MAC/ssh on linux//putty on Win
https://github.com/HackerShackOfficial/Raspberry-Pi-VNC-Mac

a. create wlan
```
sudo nano /etc/udev/rules.d/70-persistent-net.rules
```

Put the following content
   
```
# This file was automatically generated by the /lib/udev/write_net_rules
# program, run by the persistent-net-generator.rules rules file.

# PCI device 0x8086:0x10c9 (igb)
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="b8:27:eb:ec:7e:88", ATTR{type}=="1", KERNEL=="wlan*", NAME="wlan0"

```


add modules
```
sudo nano /etc/modules
```

The contents are:
```
uinput
i2c-bcm2708
i2c-dev
r8712u
brcmfmac
brcmutil

```
# Kernel Build
The Rpi has v8 ARM based Broadcom 64-bit SOC, so to get most performance we want kernel architecture built for the ARCH=arm64 and CROSS_COMPILE=aarch64;

Assumed cross-compile environment is AMD64 Ubuntu Linux
	  **Binutils**
a. `sudo apt-get install build-essential libgmp-dev libmpfr-dev libmpc-dev libisl-dev libncurses5-dev bc git-core bison flex`
b .`wget -c https://ftp.gnu.org/gnu/binutils/binutils-2.29.1.tar.bz2`
c. `tar xvf binutils-2.29.1.tar.bz2`
d. `mkdir binutils-obj && cd binutils-obj`
e. `../binutils-2.29.1/configure --prefix=/opt/aarch64 --target=aarch64-linux-gnu --disable-nls`
 f. `make -j4`
 g. `sudo make install`
 h. `export PATH=$PATH:/opt/aarch64/bin/`
	 **GCC**
a. `wget https://ftp.gnu.org/gnu/gcc/gcc-6.4.0/gcc-6.4.0.tar.xz`
b. `tar xvf gcc-6.4.0.tar.xz`
c. `mkdir gcc-out && cd gcc-out`
d. `../gcc-6.4.0/configure --prefix=/opt/aarch64 --target=aarch64-linux-gnu --with-newlib --without-headers \
 --disable-nls --disable-shared --disable-threads --disable-libssp --disable-decimal-float \
 --disable-libquadmath --disable-libvtv --disable-libgomp --disable-libatomic \
 --enable-languages=c`
 e. `make all-gcc -j4`
 f. `sudo make install-gcc`
 
We want to use realtime kernel for latency control statistics

    git clone --depth=1 -b rpi-4.14.y-rt https://github.com/raspberrypi/linux.git
    mkdir kernel-out
    cd linux
    make O=../kernel-out/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-  bcmrpi3_defconfig
Now we have the default bcmrpi3_defconfig kernel configuration, but it is good to check that we're using RT as the kernel setting. Use text editor to confirm compiler setting for real-time rt kernel build, or use menuconfig.

    make O=../kernel-out/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- menuconfig

Start compile:

    make -j4 O=../kernel-out/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-

Add QT
```
wget -c http://download.qt.io/official_releases/qt/5.11/5.11.1/qt-opensource-linux-x64-5.11.1.run
sudo raspi-update -y && sudo reboot
```
Login user:ubuntu pw:ubuntu

# codeblock
    Press: ctl + alt + t
    Copy text: ctl+shift+c
    Paste text: print ctl+shift+v

    sudo apt update && sudo apt upgrade 

    run: 
    sudo apt install python-opencv python-pip python3-pip python-numpy \
    python-dev python3-dev gfortran \
    build-essential bison flex ncurses5 git wget curl
    
    run: git clone https://github.com/3keepmovingforward3/tf-1.1.0-cp35.git
    
    run: git checkout master && cd tf-1.1.0-cp35
    run: pip3 install --user -r requirements.txt
    
    
    

    
    run
